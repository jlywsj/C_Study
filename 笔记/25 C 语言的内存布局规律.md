# C 语言的内存布局规律

> *转载自小甲鱼C语言课程*

### 代码段（Text    segment） 

- 通常是指用来<span style="color:#ff00ff">存放程序执行代码的一块内存区域</span>。这部分区域的大小在程序运行前就已经确定，并且内存区域通常属于只读。在代码段中，也有可能包含一些只读的常数变量，例如字符串常量等。

### 数据段（Initialized  data  segment）

- 通常用来存放<span style="color:#ff00ff">已经初始化的全局变量和局部静态变量</span>

### BSS段（Bss  segment / Uninitialized data segment）

- 通常是指<span style="color:#ff00ff">用来存放程序中未初始化的全局变量的一块内存区域</span>。BSS是拥吻Block  Started  by  Symbol 的简称，这个区段中的数据在程序运行前将被自动初始化为数字0。

### 堆

- 对是用于存放<span style="color:#ff00ff">进程中被动态分配的内存段，它的大小并不固定，可动态扩展或缩小</span>。当进程调用malloc等函数分配内存时，新分配的内存就被动态添加到堆上；当利用free等函数释放内存时，被释放的内存从堆中被剔除。

### 栈

- 大家平时可能经常听到堆栈这个词，一般指的就是这个栈。<span style="color:#ff00ff">栈是函数执行的内存区域，通常和堆共享一片区域</span>

### 堆和栈的区别

- 生存周期：
  1. 堆的生存周期由动态申请到程序员主动释放为止，不同函数之间可自由访问。
  2. 栈的生存周期由函数调用开始到函数返回时结束，函数之间的局部变量不能互相访问。
- 发展方向：
  1. 堆和其他区段一样，都是从低地址到高地址发展
  2. 栈则相反，是由高地址向低地址发展

![image-20221124203222391](E:\C语言考研学习\笔记\images\image-20221124203222391.png)

![image-20221124203338907](E:\C语言考研学习\笔记\images\image-20221124203338907.png)

